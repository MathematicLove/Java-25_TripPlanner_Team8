# Trip Planner Bot (Team №8)

Telegram бот для планирования путешествий с административной панелью и API.

## API Endpoints

### Административные эндпоинты

1. **GET /users**
   - Получение списка всех пользователей
   - Требует заголовок `X-API-KEY` с административным ключом
   - Возвращает список пользователей в формате JSON

2. **POST /admin/broadcast**
   - Отправка массового сообщения всем пользователям
   - Требует заголовок `X-API-KEY` с административным ключом
   - Тело запроса: `{"message": "текст сообщения"}`
   - Используется для рассылки рекламных сообщений или уведомлений о технических работах

3. **GET /healthcheck**
   - Проверка работоспособности сервиса
   - Возвращает статус приложения и информацию об авторах
   - Не требует авторизации

## Запуск проекта

### Локальная сборка

1. Сборка проекта с помощью Gradle:
```bash
./gradlew clean build
```

2. Создание исполняемого JAR-файла:
```bash
./gradlew clean shadowJar
```

### Запуск в Docker

Проект использует Docker Compose для оркестрации контейнеров:

1. **docker-compose.yml**:
   - Настраивает сеть `trip-planner-network`
   - Запускает MongoDB 6.0 с настроенным пользователем и базой данных
   - Настраивает переменные окружения для приложения
   - Устанавливает зависимости между сервисами
   - Настраивает healthcheck для проверки работоспособности

2. **Dockerfile**:
   - Использует Amazon Corretto 21 (Alpine)
   - Копирует собранный JAR-файл
   - Настраивает точку входа для запуска приложения

### Команды для работы с Docker

Очистка и пересборка:
```bash
# Остановка и удаление контейнеров
docker compose down --remove-orphans

# Удаление всех образов
docker compose down --rmi all

# Сборка и запуск в фоновом режиме
docker compose up --build -d

# Запуск приложения
docker compose run app
```

## Авторы
- Салимли Айзек: 
   - Planner 
   - Docker 
   - gradle
- Григорьев Петр:
   - Helper 
   - Healthcheck
- Михалец Мартин:
   - History 
   - Admin

Проект разработан командой 8 в рамках курса по Java-разработке.
